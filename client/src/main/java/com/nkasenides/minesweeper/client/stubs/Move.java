/* --------------------------------------------------------------------------------
  This file was automatically generated by the Athlos Project Editor.
  Athlos Framework: http://nkasenides.github.io/athlos
  Generated on: 16-11-2021 12:37:22
  Athlos Project Editor, v0.1.0 BETA
-------------------------------------------------------------------------------- */

package com.nkasenides.minesweeper.client.stubs;


import com.nkasenides.minesweeper.proto.*;
import io.grpc.stub.StreamObserver;
import java.util.Iterator;
import java.util.Collection;


public class Move {

    private final MAServiceProtoGrpc.MAServiceProtoBlockingStub blockingStub;
    private final MAServiceProtoGrpc.MAServiceProtoStub asyncStub;

    public Move(MAServiceProtoGrpc.MAServiceProtoBlockingStub blockingStub, MAServiceProtoGrpc.MAServiceProtoStub asyncStub) {
        this.blockingStub = blockingStub;
        this.asyncStub = asyncStub;
    }

    public MoveResponse sendAndWait(MoveRequest request) {
        return blockingStub.move(request);
    }

    public void send(MoveRequest request) {
        asyncStub.move(request, new StreamObserver<MoveResponse>() {
            @Override
            public void onNext(MoveResponse response) {
                onReceive(response);
            }

            @Override
            public void onError(Throwable throwable) {
                //TODO - Handle exception
                throwable.printStackTrace();
            }

            @Override
            public void onCompleted() {
                //TODO - Implement
            }

            public void onReceive(MoveResponse response) {
                //TODO - Implement
            }
        });
    }
}
